/*************************************************************************************************/
/*!
\file GameObjectManager.h
\author Aiden Cvengros
\par email: ajcvengros\@gmail.com
\date 2024.2.10
\brief
    Manager to keep track of all game objects in a scene and ensure they get drawn, cleared, loaded, etc.

    Public Functions:
        + FILL
		
	Private Functions:
		+ FILL

Copyright (c) 2023 Aiden Cvengros
*/
/*************************************************************************************************/

#ifndef Syncopatience_GameObjectManager_H_
#define Syncopatience_GameObjectManager_H_

#pragma once

//-------------------------------------------------------------------------------------------------
// Include Header Files
//-------------------------------------------------------------------------------------------------

#include "stdafx.h"

// The system base class
#include "System.h"

// Game object class
#include "GameObject.h"

// The list to hold all the game objects
#include <map>

// Includes the window class to track where game objects are being drawn to
#include "Window.h"

//-------------------------------------------------------------------------------------------------
// Forward References
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Constants
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Classes
//-------------------------------------------------------------------------------------------------

/*************************************************************************************************/
/*!
	\brief
		The game object manager class
*/
/*************************************************************************************************/
class GameObjectManager : public System
{
public:
	//---------------------------------------------------------------------------------------------
	// Public Consts
	//---------------------------------------------------------------------------------------------
	
	//---------------------------------------------------------------------------------------------
	// Public Structures
	//---------------------------------------------------------------------------------------------
	
	//---------------------------------------------------------------------------------------------
	// Public Variables
	//---------------------------------------------------------------------------------------------
	
	//---------------------------------------------------------------------------------------------
	// Public Function Declarations
	//---------------------------------------------------------------------------------------------
	
	/*************************************************************************************************/
	/*!
		\brief
			Constructor for the game object manager class

		\param inputManager_
			The input manager to communicate to game objects
	*/
	/*************************************************************************************************/
	GameObjectManager(InputManager* inputManager_) : inputManager(inputManager_) {}
	
	/*************************************************************************************************/
	/*!
		\brief
			Destructor for the game object manager class
	*/
	/*************************************************************************************************/
	~GameObjectManager() {}

	/*************************************************************************************************/
	/*!
		\brief
			Initializes the game object manager
	*/
	/*************************************************************************************************/
	void Init();

	/*************************************************************************************************/
	/*!
		\brief
			Updates all game objects.

		\param
			The time elapsed since the previous frame.
	*/
	/*************************************************************************************************/
	void Update(double dt);

	/*************************************************************************************************/
	/*!
		\brief
			Draws the game objects in the manager to the screen.

		\param window
			The window being drawn to
	*/
	/*************************************************************************************************/
	void Draw(Window* window);

	/*************************************************************************************************/
	/*!
		\brief
			Shuts down the game object manager and all game objects in it.
	*/
	/*************************************************************************************************/
	void Shutdown();

	/*************************************************************************************************/
	/*!
		\brief
			Adds a game object to the manager's list.
	*/
	/*************************************************************************************************/
	void AddGameObject(GameObject* newGameObject);
	
private:
	//---------------------------------------------------------------------------------------------
	// Private Consts
	//---------------------------------------------------------------------------------------------
	
	//---------------------------------------------------------------------------------------------
	// Private Structures
	//---------------------------------------------------------------------------------------------
	
	//---------------------------------------------------------------------------------------------
	// Private Variables
	//---------------------------------------------------------------------------------------------
	
	std::multimap<int, GameObject*> gameObjectList;			// The list of game objects being managed

	//Window* window;											// Pointer to the window being drawn to
	InputManager* inputManager;								// Pointer to the input manager to communicate to the game objects

	//---------------------------------------------------------------------------------------------
	// Private Function Declarations
	//---------------------------------------------------------------------------------------------
};

//-------------------------------------------------------------------------------------------------
// Public Variables
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Functions
//-------------------------------------------------------------------------------------------------

#endif // Syncopatience_GameObjectManager_H_
