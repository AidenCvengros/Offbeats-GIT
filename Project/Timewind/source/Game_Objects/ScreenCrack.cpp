/*************************************************************************************************/
/*!
\file ScreenCrack.cpp
\author Aiden Cvengros
\par email: ajcvengros\@gmail.com
\date 2025.7.21
\brief
    The base class for item game objects

    Functions include:
        + FILL

Copyright (c) 2023 Aiden Cvengros
*/
/*************************************************************************************************/

//-------------------------------------------------------------------------------------------------
// Include Header Files
//-------------------------------------------------------------------------------------------------

#include "ScreenCrack.h"

#include "../cppShortcuts.h"

//-------------------------------------------------------------------------------------------------
// Private Constants
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Declarations
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Private Variables
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Function Declarations
//-------------------------------------------------------------------------------------------------

/*************************************************************************************************/
/*!
	\brief
		Returns the transformation matrix of the game object. 
*/
/*************************************************************************************************/
glm::mat4x4 ScreenCrack::GetTranformationMatrix()
{
	// Adjusts transformation to flip the sprite if facing left
	float directionModifier;
	if (GetIsFacingRight())
	{
		directionModifier = -1;
	}
	else
	{
		directionModifier = 1;
	}

	// Calculates and returns the transformation matrix
	return glm::translate(glm::mat4(1.0f), glm::vec3(GetPosition().x, GetPosition().y, -crackDepth))
		* glm::rotate(glm::mat4(1.0f), glm::radians(GetRotation() * directionModifier), glm::vec3(0.0f, 0.0f, 1.0f))
		* glm::scale(glm::mat4(1.0f), glm::vec3(GetScale().x * directionModifier, GetScale().y, 1.0f));
}

//-------------------------------------------------------------------------------------------------
// Private Function Declarations
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Function Definitions
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Private Function Definitions
//-------------------------------------------------------------------------------------------------
