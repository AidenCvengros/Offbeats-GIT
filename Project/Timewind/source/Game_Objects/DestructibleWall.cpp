/*************************************************************************************************/
/*!
\file Item.cpp
\author Aiden Cvengros
\par email: ajcvengros\@gmail.com
\date 2025.4.28
\brief
    The base class for item game objects

    Functions include:
        + FILL

Copyright (c) 2023 Aiden Cvengros
*/
/*************************************************************************************************/

//-------------------------------------------------------------------------------------------------
// Include Header Files
//-------------------------------------------------------------------------------------------------

// Base includes
#include "DestructibleWall.h"
#include "../Engine/cppShortcuts.h"

// Includes the game object manager to add the inside object when destroyed
#include "../Engine/GameObjectManager.h"

// Includes the map matrix to be updated when destroyed
#include "../Gameplay/MapMatrix.h"

//-------------------------------------------------------------------------------------------------
// Private Constants
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Declarations
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Private Variables
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Function Declarations
//-------------------------------------------------------------------------------------------------

/*************************************************************************************************/
/*!
	\brief
		Destructor for FILL class
*/
/*************************************************************************************************/
DestructibleWall::~DestructibleWall()
{
    // If there is an object inside the wall, spawn it
    if (insideObject)
    {
        insideObject->SetPosition(GetPosition());
        insideObject->SetMapCoords(GetMapCoords());
        _GameObjectManager->AddGameObject(insideObject);
        _MapMatrix->SetTile(GetMapCoords(), MapMatrix::TileStatus::Key, insideObject);
    }
}

//-------------------------------------------------------------------------------------------------
// Private Function Declarations
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Function Definitions
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Private Function Definitions
//-------------------------------------------------------------------------------------------------
