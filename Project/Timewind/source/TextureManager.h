/*************************************************************************************************/
/*!
\file TextureManager.h
\author Aiden Cvengros
\par email: ajcvengros\@gmail.com
\date 2024.5.7
\brief
    Manages textures and ensures that multiple textures of the same file don't get created

    Public Functions:
        + System
		+ ~System
		+ Init
		+ Update
		+ Draw
		+ Shutdown
		
	Private Functions:

Copyright (c) 2023 Aiden Cvengros
*/
/*************************************************************************************************/

#ifndef Syncopatience_TextureManager_H_
#define Syncopatience_TextureManager_H_

#pragma once

//-------------------------------------------------------------------------------------------------
// Include Header Files
//-------------------------------------------------------------------------------------------------

#include "stdafx.h"

// The system base class
#include "System.h"

// The Texture class
#include "Texture.h"

// The Window class
#include "Window.h"

// The list to hold all the textures
#include <list>

//-------------------------------------------------------------------------------------------------
// Forward References
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Constants
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Classes
//-------------------------------------------------------------------------------------------------

/*************************************************************************************************/
/*!
	\brief
		The texture manager class
*/
/*************************************************************************************************/
class TextureManager : public System
{
public:
	//---------------------------------------------------------------------------------------------
	// Public Consts
	//---------------------------------------------------------------------------------------------

	//---------------------------------------------------------------------------------------------
	// Public Structures
	//---------------------------------------------------------------------------------------------

	//---------------------------------------------------------------------------------------------
	// Public Variables
	//---------------------------------------------------------------------------------------------

	//---------------------------------------------------------------------------------------------
	// Public Function Declarations
	//---------------------------------------------------------------------------------------------

	/*************************************************************************************************/
	/*!
		\brief
			Constructor for the texture manager class

		\param window
			Pointer to the game window
	*/
	/*************************************************************************************************/
	TextureManager(Window* window_);

	/*************************************************************************************************/
	/*!
		\brief
			Destructor for the texture manager class
	*/
	/*************************************************************************************************/
	~TextureManager();

	/*************************************************************************************************/
	/*!
		\brief
			Initializes the texture manager
	*/
	/*************************************************************************************************/
	void Init();

	/*************************************************************************************************/
	/*!
		\brief
			Updates the system. Virtual function that must be overwritten by derived class
	
		\param
			The time elapsed since the previous frame.
	*/
	/*************************************************************************************************/
	void Update(double dt) {}

	/*************************************************************************************************/
	/*!
		\brief
			Draws the system to the screen. Virtual function that must be overwritten by derived class
			
		\param window
			The window being drawn to
	*/
	/*************************************************************************************************/
	void Draw(Window* window) {}

	/*************************************************************************************************/
	/*!
		\brief
			Shuts down the texture manager and all the textures in it.
	*/
	/*************************************************************************************************/
	void Shutdown();

	/*************************************************************************************************/
	/*!
		\brief
			Adds a texture to the manager's list.

		\param filename_
			The name of the texture file

		\return
			Pointer to the new texture
	*/
	/*************************************************************************************************/
	Texture* AddTexture(std::string filename_);

private:
	//---------------------------------------------------------------------------------------------
	// Private Consts
	//---------------------------------------------------------------------------------------------

	//---------------------------------------------------------------------------------------------
	// Private Structures
	//---------------------------------------------------------------------------------------------

	//---------------------------------------------------------------------------------------------
	// Private Variables
	//---------------------------------------------------------------------------------------------

	std::list<Texture*> textureList;			// The list of game objects being managed

	Window* window;								// Pointer to the window being drawn to

	//---------------------------------------------------------------------------------------------
	// Private Function Declarations
	//---------------------------------------------------------------------------------------------
};

//-------------------------------------------------------------------------------------------------
// Public Variables
//-------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------
// Public Functions
//-------------------------------------------------------------------------------------------------

#endif // Syncopatience_TextureManager_H_
